import{h as w,i as T,k as B,l as z,j as t,T as r,C,S as d,G as l,n as u,B as D,o as k,p as x,q as E,t as F}from"./index-DCfUnDlJ.js";import{C as A}from"./Container-BOcy6J80.js";import{D as R}from"./Divider-Do34qYC1.js";import{T as q}from"./TextField-DeRWmHW-.js";import"./dividerClasses-CfkbhbE8.js";import"./Select-DldwQV_j.js";import"./List-BY8cVE4T.js";import"./FormControl-CvsVtrqC.js";const G=E({amount:F().min(1,"Please type your deposit amount")});function H(){const{userData:s}=w(a=>a.auth),i=T(),o={amount:""},{register:p,handleSubmit:h,setError:b,reset:f,formState:{errors:n}}=B({resolver:k(G),defaultValues:o}),[g,{isLoading:j}]=z(),y=async a=>{var m,c;try{const e=await g(a).unwrap();e!=null&&e.status&&(f(o),i(x({open:!0,message:e==null?void 0:e.message,severity:"success"})))}catch(e){(m=e==null?void 0:e.data)!=null&&m.data?Object.entries(e.data.data).forEach(([S,v])=>{b(S,{type:"server",message:v})}):i(x({open:!0,message:((c=e==null?void 0:e.data)==null?void 0:c.message)||"Failed to submit. Please try again later.",severity:"error"}))}};return t.jsxs(A,{sx:{mt:"100px"},children:[t.jsx(r,{variant:"h4",fontWeight:"bold",mb:"2rem",children:"Bond"}),t.jsxs(C,{sx:{padding:{xs:"1rem",sm:"2rem"},borderRadius:"2rem",boxShadow:"0 0px 0px 0 rgba(0, 0, 0, 0.19), 0 0px 8px 0 rgba(0, 0, 0, 0.19)"},children:[t.jsx(r,{variant:"h6",m:{xs:"1rem",sm:"0"},children:"Fill details"}),t.jsx(R,{sx:{my:"1.2rem"}}),t.jsxs(d,{gap:"2rem",component:"form",onSubmit:h(y),children:[t.jsx(l,{container:!0,size:12,spacing:3,children:t.jsxs(l,{item:!0,size:{xs:12,sm:6},children:[t.jsxs(d,{sx:{flexDirection:"row",justifyContent:"space-between"},children:[t.jsx(u,{sx:{mb:".5rem"},children:"Amount to Bond"}),t.jsxs(u,{sx:{mb:".5rem"},children:["Trade Balance : ",s==null?void 0:s.TRADEBalance]})]}),t.jsx(q,{...p("amount",{require:!0}),size:"small",fullWidth:!0,placeholder:"Amount to Bond",variant:"outlined"}),n.amount&&t.jsx(r,{color:"error",children:n.amount.message})]})}),t.jsx(D,{variant:"contained",size:"small",type:"submit",disabled:j,sx:{textTransform:"capitalize",width:"5rem",boxShadow:"none",bgcolor:"primary.main",fontSize:"1rem",color:"white","&:hover":{boxShadow:"none"}},children:"Submit"})]})]})]})}export{H as default};
