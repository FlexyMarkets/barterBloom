import{r as s,j as z,a1 as Se,ap as Te,aq as q,E as fe,ar as B,d as de,g as he,s as W,as as ke,u as me,H as De,at as Ie,w as ie,c as X,ao as Le,a as ge,aj as Oe,au as ae,a3 as ze}from"./index-6CrByzJE.js";import{a as Fe}from"./List-U4WPYxpE.js";function Je({controlled:t,default:e,name:o,state:x="value"}){const{current:m}=s.useRef(t!==void 0),[d,h]=s.useState(e),c=m?t:d,f=s.useCallback(y=>{m||h(y)},[]);return[c,f]}const ve=s.createContext();function Qe({value:t,...e}){return z.jsx(ve.Provider,{value:t??!0,...e})}const Ke=()=>s.useContext(ve)??!1;function G(t,e,o){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:o?null:t.firstChild}function le(t,e,o){return t===e?o?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:o?null:t.lastChild}function Pe(t,e){if(e===void 0)return!0;let o=t.innerText;return o===void 0&&(o=t.textContent),o=o.trim().toLowerCase(),o.length===0?!1:e.repeating?o[0]===e.keys[0]:o.startsWith(e.keys.join(""))}function A(t,e,o,x,m,d){let h=!1,c=m(t,e,e?o:!1);for(;c;){if(c===t.firstChild){if(h)return!1;h=!0}const f=x?!1:c.disabled||c.getAttribute("aria-disabled")==="true";if(!c.hasAttribute("tabindex")||!Pe(c,d)||f)c=m(t,c,o);else return c.focus(),!0}return!1}const je=s.forwardRef(function(e,o){const{actions:x,autoFocus:m=!1,autoFocusItem:d=!1,children:h,className:c,disabledItemsFocusable:f=!1,disableListWrap:y=!1,onKeyDown:T,variant:I="selectedMenu",...F}=e,n=s.useRef(null),v=s.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Se(()=>{m&&n.current.focus()},[m]),s.useImperativeHandle(x,()=>({adjustStyleForScrollbar:(r,{direction:i})=>{const p=!n.current.style.width;if(r.clientHeight<n.current.clientHeight&&p){const E=`${Te(q(r))}px`;n.current.style[i==="rtl"?"paddingLeft":"paddingRight"]=E,n.current.style.width=`calc(100% + ${E})`}return n.current}}),[]);const K=r=>{const i=n.current,p=r.key;if(r.ctrlKey||r.metaKey||r.altKey){T&&T(r);return}const M=B(i).activeElement;if(p==="ArrowDown")r.preventDefault(),A(i,M,y,f,G);else if(p==="ArrowUp")r.preventDefault(),A(i,M,y,f,le);else if(p==="Home")r.preventDefault(),A(i,null,y,f,G);else if(p==="End")r.preventDefault(),A(i,null,y,f,le);else if(p.length===1){const l=v.current,w=p.toLowerCase(),D=performance.now();l.keys.length>0&&(D-l.lastTime>500?(l.keys=[],l.repeating=!0,l.previousKeyMatched=!0):l.repeating&&w!==l.keys[0]&&(l.repeating=!1)),l.lastTime=D,l.keys.push(w);const S=M&&!l.repeating&&Pe(M,l);l.previousKeyMatched&&(S||A(i,M,!1,f,G,l))?r.preventDefault():l.previousKeyMatched=!1}T&&T(r)},L=fe(n,o);let a=-1;s.Children.forEach(h,(r,i)=>{if(!s.isValidElement(r)){a===i&&(a+=1,a>=h.length&&(a=-1));return}r.props.disabled||(I==="selectedMenu"&&r.props.selected||a===-1)&&(a=i),a===i&&(r.props.disabled||r.props.muiSkipListHighlight||r.type.muiSkipListHighlight)&&(a+=1,a>=h.length&&(a=-1))});const C=s.Children.map(h,(r,i)=>{if(i===a){const p={};return d&&(p.autoFocus=!0),r.props.tabIndex===void 0&&I==="selectedMenu"&&(p.tabIndex=0),s.cloneElement(r,p)}return r});return z.jsx(Fe,{role:"menu",ref:L,className:c,onKeyDown:K,tabIndex:m?0:-1,...F,children:C})});function He(t){return de("MuiPopover",t)}he("MuiPopover",["root","paper"]);function ue(t,e){let o=0;return typeof e=="number"?o=e:e==="center"?o=t.height/2:e==="bottom"&&(o=t.height),o}function ce(t,e){let o=0;return typeof e=="number"?o=e:e==="center"?o=t.width/2:e==="right"&&(o=t.width),o}function pe(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function _(t){return typeof t=="function"?t():t}const Ne=t=>{const{classes:e}=t;return ge({root:["root"],paper:["paper"]},He,e)},Ae=W(Oe,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),ye=W(ke,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),We=s.forwardRef(function(e,o){const x=me({props:e,name:"MuiPopover"}),{action:m,anchorEl:d,anchorOrigin:h={vertical:"top",horizontal:"left"},anchorPosition:c,anchorReference:f="anchorEl",children:y,className:T,container:I,elevation:F=8,marginThreshold:n=16,open:v,PaperProps:K={},slots:L={},slotProps:a={},transformOrigin:C={vertical:"top",horizontal:"left"},TransitionComponent:r=De,transitionDuration:i="auto",TransitionProps:{onEntering:p,...E}={},disableScrollLock:M=!1,...l}=x,w=(a==null?void 0:a.paper)??K,D=s.useRef(),S={...x,anchorOrigin:h,anchorReference:f,elevation:F,marginThreshold:n,externalPaperSlotProps:w,transformOrigin:C,TransitionComponent:r,transitionDuration:i,TransitionProps:E},N=Ne(S),U=s.useCallback(()=>{if(f==="anchorPosition")return c;const u=_(d),P=(u&&u.nodeType===1?u:B(D.current).body).getBoundingClientRect();return{top:P.top+ue(P,h.vertical),left:P.left+ce(P,h.horizontal)}},[d,h.horizontal,h.vertical,c,f]),$=s.useCallback(u=>({vertical:ue(u,C.vertical),horizontal:ce(u,C.horizontal)}),[C.horizontal,C.vertical]),V=s.useCallback(u=>{const g={width:u.offsetWidth,height:u.offsetHeight},P=$(g);if(f==="none")return{top:null,left:null,transformOrigin:pe(P)};const ee=U();let j=ee.top-P.vertical,H=ee.left-P.horizontal;const te=j+g.height,oe=H+g.width,re=q(_(d)),se=re.innerHeight-n,ne=re.innerWidth-n;if(n!==null&&j<n){const R=j-n;j-=R,P.vertical+=R}else if(n!==null&&te>se){const R=te-se;j-=R,P.vertical+=R}if(n!==null&&H<n){const R=H-n;H-=R,P.horizontal+=R}else if(oe>ne){const R=oe-ne;H-=R,P.horizontal+=R}return{top:`${Math.round(j)}px`,left:`${Math.round(H)}px`,transformOrigin:pe(P)}},[d,f,U,$,n]),[b,O]=s.useState(v),k=s.useCallback(()=>{const u=D.current;if(!u)return;const g=V(u);g.top!==null&&u.style.setProperty("top",g.top),g.left!==null&&(u.style.left=g.left),u.style.transformOrigin=g.transformOrigin,O(!0)},[V]);s.useEffect(()=>(M&&window.addEventListener("scroll",k),()=>window.removeEventListener("scroll",k)),[d,M,k]);const we=(u,g)=>{p&&p(u,g),k()},be=()=>{O(!1)};s.useEffect(()=>{v&&k()}),s.useImperativeHandle(m,()=>v?{updatePosition:()=>{k()}}:null,[v,k]),s.useEffect(()=>{if(!v)return;const u=Ie(()=>{k()}),g=q(d);return g.addEventListener("resize",u),()=>{u.clear(),g.removeEventListener("resize",u)}},[d,v,k]);let Y=i;i==="auto"&&!r.muiSupportAuto&&(Y=void 0);const Me=I||(d?B(_(d)).body:void 0),J={slots:L,slotProps:{...a,paper:w}},[Re,Q]=ie("paper",{elementType:ye,externalForwardedProps:J,additionalProps:{elevation:F,className:X(N.paper,w==null?void 0:w.className),style:b?w.style:{...w.style,opacity:0}},ownerState:S}),[Z,{slotProps:xe,...Ce}]=ie("root",{elementType:Ae,externalForwardedProps:J,additionalProps:{slotProps:{backdrop:{invisible:!0}},container:Me,open:v},ownerState:S,className:X(N.root,T)}),Ee=fe(D,Q.ref);return z.jsx(Z,{...Ce,...!Le(Z)&&{slotProps:xe,disableScrollLock:M},...l,ref:o,children:z.jsx(r,{appear:!0,in:v,onEntering:we,onExited:be,timeout:Y,...E,children:z.jsx(Re,{...Q,ref:Ee,children:y})})})});function Ue(t){return de("MuiMenu",t)}he("MuiMenu",["root","paper","list"]);const $e={vertical:"top",horizontal:"right"},Ve={vertical:"top",horizontal:"left"},Ge=t=>{const{classes:e}=t;return ge({root:["root"],paper:["paper"],list:["list"]},Ue,e)},_e=W(We,{shouldForwardProp:t=>ze(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),qe=W(ye,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Be=W(je,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),Ze=s.forwardRef(function(e,o){const x=me({props:e,name:"MuiMenu"}),{autoFocus:m=!0,children:d,className:h,disableAutoFocusItem:c=!1,MenuListProps:f={},onClose:y,open:T,PaperProps:I={},PopoverClasses:F,transitionDuration:n="auto",TransitionProps:{onEntering:v,...K}={},variant:L="selectedMenu",slots:a={},slotProps:C={},...r}=x,i=Ke(),p={...x,autoFocus:m,disableAutoFocusItem:c,MenuListProps:f,onEntering:v,PaperProps:I,transitionDuration:n,TransitionProps:K,variant:L},E=Ge(p),M=m&&!c&&T,l=s.useRef(null),w=(b,O)=>{l.current&&l.current.adjustStyleForScrollbar(b,{direction:i?"rtl":"ltr"}),v&&v(b,O)},D=b=>{b.key==="Tab"&&(b.preventDefault(),y&&y(b,"tabKeyDown"))};let S=-1;s.Children.map(d,(b,O)=>{s.isValidElement(b)&&(b.props.disabled||(L==="selectedMenu"&&b.props.selected||S===-1)&&(S=O))});const N=a.paper??qe,U=C.paper??I,$=ae({elementType:a.root,externalSlotProps:C.root,ownerState:p,className:[E.root,h]}),V=ae({elementType:N,externalSlotProps:U,ownerState:p,className:E.paper});return z.jsx(_e,{onClose:y,anchorOrigin:{vertical:"bottom",horizontal:i?"right":"left"},transformOrigin:i?$e:Ve,slots:{paper:N,root:a.root},slotProps:{root:$,paper:V},open:T,ref:o,transitionDuration:n,TransitionProps:{onEntering:w,...K},ownerState:p,...r,classes:F,children:z.jsx(Be,{onKeyDown:D,actions:l,autoFocus:m&&(S===-1||c),autoFocusItem:M,variant:L,...f,className:X(E.list,f.className),children:d})})});export{Ze as M,We as P,Qe as R,Je as a,je as b,Ke as u};
