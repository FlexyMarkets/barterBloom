import{h as P,j as e,T as u,r as n,Y as F,Z as l,S as c,n as d,B as M}from"./index-DSQ-3O48.js";import{c as v,u as A,M as k}from"./index.esm-DdAKqcS1.js";import{F as I,u as x,w as Y}from"./xlsx-BUmaLdH_.js";import{S as R}from"./Skeleton-WREOV4gt.js";import{S as B}from"./Selector-CDcKqITr.js";import{d as g}from"./dayjs.min-B0d50YWh.js";import{C as _}from"./Container-CKS2abll.js";import{L as G,D}from"./DatePicker-CdvCZUcq.js";import{A as N}from"./AdapterDayjs-C4QGSnsC.js";import"./ExpandMore-DABG_3nT.js";import"./Search-CVGu8O02.js";import"./Tooltip-vfnjTcC9.js";import"./index-DwFg_eq3.js";import"./Popper-B5MBiZVf.js";import"./Checkbox-DqNi6Ewh.js";import"./TableContainer-DL305jtK.js";import"./Select-Bv15Tg3R.js";import"./List-BUk8UaV_.js";import"./TextField-_bQE5U9w.js";import"./FormControl-DDBdLatC.js";import"./MenuItem-BzTFlkuF.js";import"./listItemIconClasses-CNvEqFSR.js";import"./listItemTextClasses-DWIRo0XL.js";import"./dividerClasses-Bt8tkvUP.js";import"./KeyboardArrowRight-2QxGoCm6.js";import"./ListItemIcon-CUbbkhlY.js";import"./TableRow-FNayGtjs.js";import"./Divider-D2RQ6X5C.js";import"./ListItem-Dag9odD9.js";const s=v(),O=[s.display({header:"Login ID",size:40,Cell:()=>{var t;const{data:o,isLoading:i}=P();return e.jsx(u,{children:i?e.jsx(R,{width:100,height:30}):((t=o==null?void 0:o.data)==null?void 0:t.loginId)||"Empty"})}}),s.accessor("balanceType",{header:"Balance Type",size:120}),s.accessor("transactionType",{header:"Transaction Type",size:150}),s.accessor("amount",{header:"Amount",size:150}),s.accessor("status",{header:"Status",size:150}),s.accessor("description",{header:"Description",size:250}),s.accessor("createdAt",{header:"Registration Date",size:200,Cell:({row:o})=>e.jsx(u,{children:new Date(o.original.createdAt).toLocaleString()})})],H=["PENDING","COMPLETED","PROCESSING","REJECTED"],W=o=>{const i=x.json_to_sheet(o),t=x.book_new();x.book_append_sheet(t,i,"Sheet1"),Y(t,"transactionList.xlsx")};function je(){var h,f;const[o,i]=n.useState({pageIndex:0,pageSize:10}),[t,b]=n.useState({status:"",transactionType:"",fromDate:null,toDate:null}),j=t.fromDate?g(t.fromDate).format("YYYY-MM-DD"):void 0,S=t.toDate?g(t.toDate).format("YYYY-MM-DD"):void 0,{data:r,isLoading:T,isError:w}=F({page:o.pageIndex+1,sizePerPage:o.pageSize,...t,startDate:j,endDate:S}),m=((h=r==null?void 0:r.data)==null?void 0:h.docs)||[],y=n.useMemo(()=>O,[]),C=n.useMemo(()=>m,[m]),z=A({columns:y,data:C,enableColumnFilters:!1,enableSorting:!1,enableColumnActions:!1,manualPagination:!0,manualFiltering:!0,rowCount:((f=r==null?void 0:r.data)==null?void 0:f.totalDocs)||0,state:{pagination:o,isLoading:T,showAlertBanner:w},onPaginationChange:i,columnFilterDisplayMode:"popover",enableGlobalFilter:!1,paginationDisplayMode:"pages",positionToolbarAlertBanner:"bottom",renderTopToolbarCustomActions:()=>e.jsx(l,{sx:{display:"flex",gap:2,padding:1,flexWrap:"wrap"},children:e.jsx(M,{variant:"contained",onClick:()=>W(m),startIcon:e.jsx(I,{sx:{color:"white"}}),sx:{textTransform:"none",color:"white",boxShadow:"none",bgcolor:"primary.main","&:hover":{boxShadow:"none"}},children:"Excel"})})}),p=n.useCallback((a,E)=>{b(L=>({...L,[a]:E}))},[]);return e.jsxs(_,{sx:{mt:"100px"},children:[e.jsx(u,{variant:"h5",fontWeight:700,fontSize:"1.8rem",mb:4,children:"Transaction List"}),e.jsxs(l,{sx:{display:"flex",flexDirection:{xs:"column",lg:"row"},gap:2,flexWrap:"wrap",mb:4},children:[e.jsx(l,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:2},children:e.jsxs(c,{children:[e.jsx(d,{sx:{mb:.5,fontSize:12},children:"Status"}),e.jsx(B,{items:H,value:t.status,onChange:a=>p("status",a.target.value),width:{xs:"100%",sm:200}})]})}),e.jsx(G,{dateAdapter:N,children:e.jsxs(l,{sx:{display:"flex",gap:2,flexDirection:{xs:"column",sm:"row"}},children:[e.jsxs(c,{children:[e.jsx(d,{sx:{mb:.5,fontSize:12},children:"From"}),e.jsx(D,{value:t.fromDate,onChange:a=>p("fromDate",a),slotProps:{textField:{size:"small"},field:{clearable:!0}}})]}),e.jsxs(c,{children:[e.jsx(d,{sx:{mb:.5,fontSize:12},children:"To"}),e.jsx(D,{value:t.toDate,onChange:a=>p("toDate",a),slotProps:{textField:{size:"small"},field:{clearable:!0}}})]})]})})]}),e.jsx(c,{sx:{mt:4,borderRadius:2,overflow:"hidden"},children:e.jsx(k,{table:z})})]})}export{je as default};
