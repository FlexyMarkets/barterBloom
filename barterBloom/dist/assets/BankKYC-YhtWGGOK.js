import{q as R,t as x,am as W,i as E,r as v,k as K,an as q,j as e,S as l,C as f,T as a,G as o,n as c,B as G,o as V,p as k,ao as Y,ap as H,X as T}from"./index-DCfUnDlJ.js";import{S as L,a as Z}from"./SearchableDropdown-DMA5RjY3.js";import{S as U}from"./Selector-DjJn-xsD.js";import{C as b}from"./Container-BOcy6J80.js";import{D as $}from"./Divider-Do34qYC1.js";import{T as u}from"./TextField-DeRWmHW-.js";import{F as M}from"./FiberManualRecord-DkaL6shX.js";import{a as p,T as O}from"./TableRow-Bv4UaBBp.js";import{a as s,b as Q,c as X,d as J}from"./TableContainer-DE9wYC72.js";import{I as _}from"./Info-Dd-Ro7vj.js";import{C as ee}from"./CloseOutlined-DdQUIvYt.js";import"./Autocomplete-C-f0izbS.js";import"./Select-DldwQV_j.js";import"./List-BY8cVE4T.js";import"./Popper-Cwnh6kX-.js";import"./Chip-HvK5rzH0.js";import"./FormControl-CvsVtrqC.js";import"./MenuItem-BuN52a5l.js";import"./listItemTextClasses-cfMqxYDg.js";import"./dividerClasses-CfkbhbE8.js";const re=R({holderName:x().min(1,"Please type account holder name").min(3,"Account holder name must be at least 3 characters long"),bankName:x().min(2,"Please select your"),accountNo:x().min(1,"Please type your account number").min(8,"Account number must be at least 8 characters").max(17,"Invalid Account number").regex(/^\d+$/,"Account number must contain only numbers"),ifscCode:x().min(1,"Please type your IFSC code").length(11,"IFSC code must be exactly 11 characters").regex(/^[A-Z]{4}0[A-Z0-9]{6}$/,"Invalid IFSC code"),branchName:x().min(2,"Please type your branch name"),accountType:W(["SAVING","CURRENT"],{message:"Account type must be either Savings or Current"}),panNumber:x().min(1,"Please type your pan number").max(10,"Invalid PAN number").regex(/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/,"Invalid PAN number")});function ae(){const r=E(),[d,N]=v.useState(!1),m={holderName:"",bankName:"",accountNo:"",ifscCode:"",branchName:"",accountType:"",panNumber:""},{register:i,handleSubmit:j,watch:S,setError:A,reset:D,setValue:w,formState:{errors:n}}=K({resolver:V(re),defaultValues:m}),[I,{isLoading:B}]=q(),z=async h=>{var y,C;try{const t=await I(h).unwrap();t!=null&&t.status&&(D(m),r(k({open:!0,message:t==null?void 0:t.message,severity:"success"})))}catch(t){(y=t==null?void 0:t.data)!=null&&y.data?Object.entries(t.data.data).forEach(([P,F])=>{A(P,{type:"server",message:F})}):r(k({open:!0,message:((C=t==null?void 0:t.data)==null?void 0:C.message)||"Failed to submit. Please try again later.",severity:"error"}))}};return e.jsx(l,{mt:"2rem",children:e.jsx(b,{children:e.jsxs(f,{sx:{padding:{xs:"1rem",sm:"2rem"},borderRadius:"2rem",boxShadow:"0 0px 0px 0 rgba(0, 0, 0, 0.19), 0 0px 8px 0 rgba(0, 0, 0, 0.19)"},children:[e.jsx(a,{variant:"h6",m:{xs:"1rem",sm:"0"},children:"Add New Bank Details to Receive Profits"}),e.jsx($,{sx:{my:"1.2rem"}}),e.jsxs(l,{gap:"2rem",component:"form",onSubmit:j(z),children:[e.jsxs(o,{container:!0,size:12,spacing:3,children:[e.jsxs(o,{item:!0,size:{xs:12,sm:6,md:4},children:[e.jsx(c,{sx:{mb:".5rem"},children:"A/c holder Name"}),e.jsx(u,{...i("holderName",{required:!0}),size:"small",fullWidth:!0,placeholder:"A/c holder Name",variant:"outlined"}),n.holderName&&e.jsx(a,{color:"error",children:n.holderName.message})]}),e.jsxs(o,{item:!0,size:{xs:12,sm:6,md:4},children:[e.jsx(c,{sx:{mb:".5rem"},children:"Bank Name"}),e.jsx(L,{options:Z,value:S("bankName"),onChange:h=>w("bankName",h,{shouldValidate:!0}),placeholder:"Select Bank"}),n.bankName&&e.jsx(a,{color:"error",children:n.bankName.message})]}),e.jsxs(o,{item:!0,size:{xs:12,sm:6,md:4},children:[e.jsx(c,{sx:{mb:".5rem"},children:"A/c Number"}),e.jsx(u,{...i("accountNo",{required:!0}),size:"small",fullWidth:!0,placeholder:"A/c Number",variant:"outlined"}),n.accountNo&&e.jsx(a,{color:"error",children:n.accountNo.message})]}),e.jsxs(o,{item:!0,size:{xs:12,sm:6,md:4},children:[e.jsx(c,{sx:{mb:".5rem"},children:"IFSC"}),e.jsx(u,{...i("ifscCode",{required:!0}),size:"small",fullWidth:!0,placeholder:"IFSC",variant:"outlined"}),n.ifscCode&&e.jsx(a,{color:"error",children:n.ifscCode.message})]}),e.jsxs(o,{item:!0,size:{xs:12,sm:6,md:4},children:[e.jsx(c,{sx:{mb:".5rem"},children:"Account Type"}),e.jsx(U,{items:["SAVING","CURRENT"],value:S("accountType"),shouldBeFullWidth:!0,onChange:h=>w("accountType",h.target.value,{shouldValidate:!0})}),n.accountType&&e.jsx(a,{color:"error",children:n.accountType.message})]}),e.jsxs(o,{item:!0,size:{xs:12,sm:6,md:4},children:[e.jsx(c,{sx:{mb:".5rem"},children:"Branch Name"}),e.jsx(u,{...i("branchName",{required:!0}),size:"small",fullWidth:!0,placeholder:"Branch Name",variant:"outlined"}),n.branchName&&e.jsx(a,{color:"error",children:n.branchName.message})]}),e.jsxs(o,{item:!0,size:{xs:12,sm:6,md:4},children:[e.jsx(c,{sx:{mb:".5rem"},children:"Pan No."}),e.jsx(u,{...i("panNumber",{required:!0}),size:"small",fullWidth:!0,placeholder:"Pan No.",variant:"outlined"}),n.panNumber&&e.jsx(a,{color:"error",children:n.panNumber.message})]})]}),e.jsx(G,{type:"submit",size:"small",variant:"contained",disabled:B,sx:{textTransform:"capitalize",boxShadow:"none",bgcolor:"primary.main",fontSize:"1rem",color:"white",alignSelf:"flex-start","&:hover":{boxShadow:"none"}},children:"Add"})]})]})})})}function se({data:r}){return e.jsxs(p,{children:[e.jsx(s,{align:"left",sx:{whiteSpace:"nowrap"},children:"1"}),e.jsx(s,{align:"left",sx:{whiteSpace:"nowrap"},children:r.id}),e.jsx(s,{align:"left",sx:{whiteSpace:"nowrap"},children:r.userId}),e.jsx(s,{align:"left",sx:{whiteSpace:"nowrap"},children:r.holderName}),e.jsx(s,{align:"left",sx:{whiteSpace:"nowrap"},children:r.bankName}),e.jsx(s,{align:"left",sx:{whiteSpace:"nowrap"},children:r.accountNo}),e.jsx(s,{align:"left",sx:{whiteSpace:"nowrap"},children:r.ifscCode}),e.jsx(s,{align:"left",sx:{whiteSpace:"nowrap"},children:r.accountType}),e.jsx(s,{align:"left",sx:{whiteSpace:"nowrap"},children:r.branchName}),e.jsx(s,{align:"left",sx:{whiteSpace:"nowrap"},children:r.panNumber}),e.jsx(s,{align:"left",sx:{whiteSpace:"nowrap"},children:new Date(r.createdAt).toLocaleString()}),e.jsx(s,{align:"left",sx:{whiteSpace:"nowrap"},children:e.jsxs(l,{sx:{flexDirection:"row",alignItems:"center",gap:"3px"},children:[e.jsx(M,{sx:{fontSize:"1.2rem",color:r.isDeleted===!1?"green":"red"}}),e.jsx(a,{children:r.isDeleted===!1?"Available":"Deleted"})]})})]})}const ne=["S/N","ID","User ID","Name","Bank","A/C No.","IFSC Code","A/C Type","Branch Name","PAN No.","Created At","Status"];function te(){return e.jsx(O,{children:e.jsx(p,{children:ne.map((r,d)=>e.jsx(s,{sx:{whiteSpace:"nowrap",color:"primary.main",fontWeight:"bold",fontSize:"1rem"},children:r},d))})})}function ie(){var j;const{data:r,isLoading:d,isError:N,error:m}=Y(),i=(r==null?void 0:r.data)||[];return e.jsx(l,{mt:"2rem",children:e.jsx(b,{children:e.jsx(f,{sx:{boxShadow:"0 0px 0px 0 rgba(0, 0, 0, 0.19), 0 0px 8px 0 rgba(0, 0, 0, 0.19)",borderRadius:"2rem",padding:{xs:"1rem",md:"2rem"}},children:e.jsx(Q,{children:e.jsxs(X,{sx:{minWidth:800},children:[e.jsx(te,{}),e.jsx(J,{children:d?e.jsx(p,{children:e.jsxs(s,{colSpan:12,align:"center",children:[e.jsx(H,{}),e.jsx(a,{mt:1,children:"Loading..."})]})}):N?e.jsx(p,{children:e.jsx(s,{colSpan:12,align:"center",children:e.jsxs(a,{color:"error",children:["Error: ",((j=m==null?void 0:m.data)==null?void 0:j.message)||"Failed to fetch data"]})})}):i?e.jsx(se,{data:i}):e.jsx(p,{children:e.jsx(s,{colSpan:12,align:"center",children:e.jsx(a,{children:"No bank details found"})})})})]})})})})})}const g={icon:_,heading:"Gentle Reminder",content:"Kindly update your Bank Details to get withdrawals into your account. Don't fill the wrong details. Please connect with your up-line for further assistance regarding the same."};function oe(){const[r,d]=v.useState(!1);return e.jsx(l,{children:!r&&e.jsx(b,{children:e.jsxs(f,{sx:{borderRadius:"1.2rem",padding:".2rem",boxShadow:"0 0px 0px 0 rgba(0, 0, 0, 0.19), 0 0px 8px 0 rgba(0, 0, 0, 0.19)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs(T,{sx:{display:"flex",alignItems:"center",gap:"1rem"},children:[e.jsx(l,{children:e.jsx(a,{lineHeight:0,color:"#af70e1",children:e.jsx(g.icon,{sx:{fontSize:"2rem"}})})}),e.jsxs(l,{children:[e.jsx(a,{children:g.heading}),e.jsx(a,{color:"#af70e1",children:g.content})]})]}),e.jsx(T,{children:e.jsx(a,{sx:{cursor:"pointer",lineHeight:0},onClick:()=>d(!0),children:e.jsx(ee,{})})})]})})})}function Ae(){return e.jsxs(l,{mt:"100px",children:[e.jsx(b,{children:e.jsx(a,{variant:"h4",fontWeight:"bold",mb:"2rem",children:"Bank KYC"})}),e.jsx(oe,{}),e.jsx(ae,{}),e.jsx(ie,{})]})}export{Ae as default};
