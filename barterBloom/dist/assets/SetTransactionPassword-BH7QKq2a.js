import{j as e,S as n,e as u,T as r,ah as Q,ai as c,aa as A,aj as q,aA as C,G as a,am as i,l as m,an as N,ao as R,B as b,at as k,au as j}from"./index-BfXwSNed.js";import{P as F}from"./Paid-12LaYq-K.js";import{C as x}from"./Container-C8OfJBya.js";import{S as D}from"./Selector-0Lwbqk8l.js";import{D as E}from"./Divider-zdrA-kgn.js";import"./MenuItem-BxXxlEo3.js";import"./listItemTextClasses-dqKMu_Do.js";import"./dividerClasses-DmdA7Fvt.js";const h={icon:F,heading:'Important Notice: "Transaction Password"',contant:"Please be informed that the transaction password cannot be changed. You are required to remember this password, as it will be needed for all transaction-related activities."};function O(){return e.jsx(n,{children:e.jsx(x,{children:e.jsxs(u,{sx:{p:"2rem",borderRadius:"2rem",display:"flex",flexDirection:{xs:"column",md:"row"},alignItems:{xs:"flex-start",md:"center"},gap:"2rem",backgroundImage:'url("https://images.rawpixel.com/image_800/czNmcy1wcml2YXRlL3Jhd3BpeGVsX2ltYWdlcy93ZWJzaXRlX2NvbnRlbnQvbHIvam9iNTQ2LWt1bC0wMi5qcGc.jpg")',backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center",width:"100%",height:"auto"},children:[e.jsx(u,{sx:{width:"7rem",height:"5rem",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"1rem",bgcolor:"rgba(255, 255, 255, 0.1)",boxShadow:"0",color:"white"},children:e.jsx(r,{lineHeight:0,children:e.jsx(h.icon,{sx:{fontSize:"2.5rem",mb:"0"}})})}),e.jsxs(n,{color:"white",children:[e.jsx(r,{variant:"h5",fontWeight:"bold",children:h.heading}),e.jsx(r,{children:h.contant})]})]})})})}const B=["What was the first trip you went on without your family?","What was the model of your first mobile phone?","What is the name of your favorite teacher?","What was your childhood nickname?","What is your favorite sports team?","What is your favorite book?","What is your favorite movie?","What was the name of your first pet?","What is your favorite hobby?","What is your best friend's first name?","What city were you born in?","What is your favorite food?","What is your favorite color?"],G=Q({securityQuestion:c().min(8,"Please select security question"),answer:c().min(1,"Please type your answer").min(3,"Answer mush include at least 3 characters"),password:c().min(8,"Password must be at least 8 characters").regex(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[\W_]).{8,}$/,"Password must contain at least one digit, one lowercase letter, one uppercase letter, and one special character"),cnfPassword:c().min(8,"Password must be at least 8 characters")}).refine(o=>o.password===o.cnfPassword,{message:"Passwords do not match",path:["cnfPassword"]});function V(){const o=A(),p={securityQuestion:"",answer:"",password:"",cnfPassword:""},{register:d,handleSubmit:g,setError:y,reset:P,watch:v,setValue:S,formState:{errors:t}}=q({resolver:k(G),defaultValues:p}),[W]=C(),z=async l=>{var w,f;try{const s=await W(l).unwrap();s!=null&&s.status&&(P(p),o(j({open:!0,message:s==null?void 0:s.message,severity:"success"})))}catch(s){(w=s==null?void 0:s.data)!=null&&w.data?Object.entries(s.data.data).forEach(([T,I])=>{y(T,{type:"server",message:I})}):o(j({open:!0,message:((f=s==null?void 0:s.data)==null?void 0:f.message)||"Failed to submit. Please try again later.",severity:"error"}))}};return e.jsx(n,{mt:"2rem",children:e.jsx(x,{children:e.jsxs(u,{sx:{padding:{xs:"1rem",sm:"2rem"},borderRadius:"2rem",boxShadow:"0 0px 0px 0 rgba(0, 0, 0, 0.19), 0 0px 8px 0 rgba(0, 0, 0, 0.19)"},children:[e.jsx(r,{variant:"h6",m:{xs:"1rem",sm:"0"},children:"Update your security questions"}),e.jsx(E,{sx:{my:"1.2rem"}}),e.jsxs(n,{gap:"2rem",alignItems:"flex-start",component:"form",onSubmit:g(z),children:[e.jsxs(a,{container:!0,size:12,spacing:3,children:[e.jsxs(a,{item:!0,size:{xs:12,sm:6,md:4},children:[e.jsx(i,{sx:{mb:".5rem"},children:"Security Question"}),e.jsx(D,{items:B,value:v("securityQuestion"),onChange:l=>S("securityQuestion",l.target.value,{shouldValidate:!0}),placeholder:"Select a question --",shouldBeFullWidth:!0}),t.securityQuestion&&e.jsx(r,{color:"error",children:t.securityQuestion.message})]}),e.jsxs(a,{item:!0,size:{xs:12,sm:6,md:4},children:[e.jsx(i,{sx:{mb:".5rem"},children:"Answer"}),e.jsx(m,{...d("answer",{required:!0}),size:"small",fullWidth:!0,placeholder:"Enter Answer",variant:"outlined"}),t.answer&&e.jsx(r,{color:"error",children:t.answer.message})]}),e.jsxs(a,{item:!0,size:{xs:12,sm:6,md:4},children:[e.jsx(i,{sx:{mb:".5rem"},children:"Password"}),e.jsx(m,{...d("password",{required:!0}),size:"small",fullWidth:!0,placeholder:"********",variant:"outlined"}),t.password&&e.jsx(r,{color:"error",children:t.password.message})]}),e.jsxs(a,{item:!0,size:{xs:12,sm:6,md:4},children:[e.jsx(i,{sx:{mb:".5rem"},children:"Confirm Password"}),e.jsx(m,{...d("cnfPassword",{required:!0}),size:"small",fullWidth:!0,placeholder:"Confirm Password",variant:"outlined"}),t.cnfPassword&&e.jsx(r,{color:"error",children:t.cnfPassword.message})]}),e.jsxs(a,{item:!0,size:{xs:12,sm:6,md:4},children:[e.jsx(i,{sx:{mb:".5rem"},children:"One Time Password"}),e.jsx(N,{size:"small",placeholder:"Enter OTP",fullWidth:!0,endAdornment:e.jsx(R,{position:"end",children:e.jsx(b,{size:"small",variant:"contained",edge:"end",sx:{height:"100%",boxShadow:"none",bgcolor:"primary.main",color:"white",textTransform:"capitalize","&:hover":{boxShadow:"none"}},children:"OTP"})})})]}),e.jsx(a,{children:e.jsx(r,{color:"#d32f2f",children:"Note: Password must be at least 8 characters and must contain at least one digit, one lowercase letter, one uppercase letter, and one special character*"})})]}),e.jsx(b,{type:"submit",size:"small",variant:"contained",sx:{textTransform:"capitalize",objectFit:"contain",boxShadow:"none",bgcolor:"primary.main",fontSize:"1rem",color:"white","&:hover":{boxShadow:"none"}},children:"Submit"})]})]})})})}function U(){return e.jsxs(n,{mt:"100px",children:[e.jsx(x,{children:e.jsx(r,{variant:"h4",fontWeight:"bold",mb:"2rem",children:"Set Transaction Password"})}),e.jsx(O,{}),e.jsx(V,{})]})}export{U as default};
