import{q as A,t as m,h as B,i as C,k as E,Q as I,j as e,S as d,T as i,C as L,G as o,n,B as W,o as D,p as w}from"./index-F7PJWeAG.js";import{S as P}from"./Selector-DZYWi7U8.js";import{C as q}from"./Container-DiaXCEP5.js";import{D as M}from"./Divider-Cj93K_66.js";import{T as f}from"./TextField-DMERoExH.js";import"./FormControl-DkNCJtz1.js";import"./Select-q5a4CTYc.js";import"./index-B76HvtTe.js";import"./List-DuxmDd4G.js";import"./MenuItem-DhiFgsPB.js";import"./listItemIconClasses-B_CHTpn7.js";import"./listItemTextClasses-xIUii8Tf.js";import"./dividerClasses-BpgxXYC1.js";const N=A({amount:m().trim().min(1,"Please type your transfer amount"),password:m().trim().min(1,"Please type your transaction password"),wallet:m().trim().min(1,"Please select your wallet type")});function _(){const{userData:t}=B(r=>r.auth),c=C(),p={amount:"",password:"",wallet:""},{register:u,handleSubmit:j,watch:l,setValue:b,setError:S,reset:g,formState:{errors:a}}=E({resolver:D(N),defaultValues:p}),[y,{isLoading:T}]=I(),v=async r=>{var x,h;try{const s=await y(r).unwrap();s!=null&&s.status&&(g(p),c(w({open:!0,message:s==null?void 0:s.message,severity:"success"})))}catch(s){(x=s==null?void 0:s.data)!=null&&x.data?Object.entries(s.data.data).forEach(([z,F])=>{S(z,{type:"server",message:F})}):c(w({open:!0,message:((h=s==null?void 0:s.data)==null?void 0:h.message)||"Failed to submit. Please try again later.",severity:"error"}))}};return e.jsx(d,{mt:"100px",children:e.jsxs(q,{children:[e.jsx(i,{variant:"h4",fontWeight:"bold",mb:"2rem",children:"Swap wallet transfer"}),e.jsxs(L,{sx:{padding:{xs:"1rem",sm:"2rem"},borderRadius:"2rem",boxShadow:"0 0px 0px 0 rgba(0, 0, 0, 0.19), 0 0px 8px 0 rgba(0, 0, 0, 0.19)"},children:[e.jsx(i,{variant:"h6",m:{xs:"1rem",sm:"0"},children:"Fill details"}),e.jsx(M,{sx:{my:"1.2rem"}}),e.jsxs(d,{gap:"2rem",component:"form",onSubmit:j(v),children:[e.jsxs(o,{container:!0,size:12,spacing:3,children:[e.jsxs(o,{item:!0,size:{xs:12,sm:6,md:4},children:[e.jsx(n,{sx:{mb:".5rem"},children:"Wallet *"}),e.jsx(P,{items:["MAIN","AFFLIATE"],shouldBeFullWidth:!0,value:l("wallet"),onChange:r=>b("wallet",r.target.value,{shouldValidate:!0})}),a.wallet&&e.jsx(i,{color:"error",fontSize:"13px",children:a.wallet.message})]}),e.jsxs(o,{item:!0,size:{xs:12,sm:6,md:4},children:[e.jsxs(d,{sx:{flexDirection:"row",justifyContent:"space-between"},children:[e.jsx(n,{sx:{mb:".5rem"},children:"Amount transfer *"}),e.jsxs(n,{sx:{mb:".5rem"},children:["Current Balance: ",l("wallet")==="MAIN"?t==null?void 0:t.BUSDBalance:l("wallet")==="AFFLIATE"?t==null?void 0:t.AFFLIATEBalance:0]})]}),e.jsx(f,{...u("amount",{require:!0}),size:"small",fullWidth:!0,placeholder:"Amount transfer",variant:"outlined"}),a.amount&&e.jsx(i,{color:"error",fontSize:"13px",children:a.amount.message})]}),e.jsxs(o,{item:!0,size:{xs:12,sm:6,md:4},children:[e.jsx(n,{sx:{mb:".5rem"},children:"Transaction password *"}),e.jsx(f,{...u("password",{require:!0}),size:"small",fullWidth:!0,placeholder:"Transaction password",variant:"outlined"}),a.password&&e.jsx(i,{fontSize:"13px",color:"error",children:a.password.message})]})]}),e.jsx(W,{variant:"contained",size:"small",type:"submit",disabled:T,sx:{textTransform:"capitalize",width:"5rem",boxShadow:"none",bgcolor:"primary.main",fontSize:"1rem",color:"white","&:hover":{boxShadow:"none"}},children:"Submit"})]})]})]})})}export{_ as default};
