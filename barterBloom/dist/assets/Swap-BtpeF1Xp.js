import{q as C,t as d,h as I,i as P,k as W,Y as R,j as e,S as c,T as a,C as k,G as i,n as o,B as q,o as G,p as j}from"./index-CgyuNoUm.js";import{S as b}from"./Selector-DsOHlDmG.js";import{C as M}from"./Container-_NoZxzfG.js";import{D as N}from"./Divider-nbmpb8iA.js";import{S}from"./Skeleton-0B2-n1-k.js";import{T as g}from"./TextField-BvQ47MxP.js";import"./FormControl-CWe92_-y.js";import"./Select-kK_Y15Qv.js";import"./Menu-MxIZnY_u.js";import"./List-CWH19mYs.js";import"./MenuItem-Nqt19bZo.js";import"./listItemTextClasses-rl1l-orI.js";import"./dividerClasses-C2UfgC6D.js";const U=C({amount:d().trim().min(1,"Please type your transfer amount"),password:d().trim().min(1,"Please type your transaction password"),wallet:d().trim().min(1,"Please select your wallet type")});function te(){const{data:l,isLoading:u,refetch:y}=I(),t=l==null?void 0:l.data,x=P(),p={amount:"",password:"",wallet:""},{register:h,handleSubmit:T,watch:n,setValue:v,setError:z,reset:A,formState:{errors:r}}=W({resolver:G(U),defaultValues:p}),[F,{isLoading:B}]=R(),D=async m=>{var w,f;try{const s=await F(m).unwrap();s!=null&&s.status&&(A(p),y(),x(j({open:!0,message:s==null?void 0:s.message,severity:"success"})))}catch(s){(w=s==null?void 0:s.data)!=null&&w.data?Object.entries(s.data.data).forEach(([E,L])=>{z(E,{type:"server",message:L})}):x(j({open:!0,message:((f=s==null?void 0:s.data)==null?void 0:f.message)||"Failed to submit. Please try again later.",severity:"error"}))}};return e.jsx(c,{mt:"100px",children:e.jsxs(M,{children:[e.jsx(a,{variant:"h4",fontWeight:"bold",mb:"2rem",children:"Swap wallet transfer"}),e.jsxs(k,{sx:{padding:{xs:"1rem",sm:"2rem"},borderRadius:"2rem",boxShadow:"0 0px 0px 0 rgba(0, 0, 0, 0.19), 0 0px 8px 0 rgba(0, 0, 0, 0.19)"},children:[e.jsx(a,{variant:"h6",m:{xs:"1rem",sm:"0"},children:"Fill details"}),e.jsx(N,{sx:{my:"1.2rem"}}),e.jsxs(c,{gap:"2rem",component:"form",onSubmit:T(D),children:[e.jsxs(i,{container:!0,size:12,spacing:2,children:[e.jsxs(i,{item:!0,size:{xs:12,sm:6},children:[e.jsx(o,{sx:{mb:".5rem"},children:"Transfer from wallet *"}),e.jsx(b,{items:["MAIN","AFFLIATE"],shouldBeFullWidth:!0,value:n("wallet"),onChange:m=>v("wallet",m.target.value,{shouldValidate:!0})}),r.wallet&&e.jsx(a,{color:"error",fontSize:"13px",children:r.wallet.message})]}),e.jsxs(i,{item:!0,size:{xs:12,sm:6},children:[e.jsxs(c,{sx:{flexDirection:"row",justifyContent:"space-between"},children:[e.jsx(o,{sx:{mb:".5rem"},children:"Amount transfer *"}),e.jsxs(o,{sx:{mb:".5rem"},children:["Balance: ",n("wallet")==="MAIN"?u?e.jsx(S,{}):t==null?void 0:t.BUSDBalance:n("wallet")==="AFFLIATE"?u?e.jsx(S,{}):t==null?void 0:t.AFFLIATEBalance:0]})]}),e.jsx(g,{...h("amount",{require:!0}),size:"small",fullWidth:!0,placeholder:"Amount transfer",variant:"outlined"}),r.amount&&e.jsx(a,{color:"error",fontSize:"13px",children:r.amount.message})]}),e.jsxs(i,{item:!0,size:{xs:12,sm:6},children:[e.jsx(o,{sx:{mb:".5rem"},children:"Transfet to wallet *"}),e.jsx(b,{items:["TRADE"],shouldBeFullWidth:!0,shouldBeDisabled:!0,value:["TRADE"]})]}),e.jsxs(i,{item:!0,size:{xs:12,sm:6},children:[e.jsx(o,{sx:{mb:".5rem"},children:"Transaction password *"}),e.jsx(g,{...h("password",{require:!0}),size:"small",fullWidth:!0,placeholder:"Transaction password",variant:"outlined"}),r.password&&e.jsx(a,{fontSize:"13px",color:"error",children:r.password.message})]})]}),e.jsx(q,{variant:"contained",size:"small",type:"submit",disabled:B,sx:{textTransform:"capitalize",width:"5rem",boxShadow:"none",bgcolor:"primary.main",fontSize:"1rem",color:"white","&:hover":{boxShadow:"none"}},children:"Submit"})]})]})]})})}export{te as default};
