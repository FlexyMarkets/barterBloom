import{r as m,z as X,y as Z,ae as me,A as D,j as t,O as ee,P as te,a0 as I,Q as oe,af as xe,V as se,ag as k,ad as he,n as ae,S as z,e as re,T as F,ah as ne,ai as P,aa as ie,aj as le,ak as ge,al as be,G as b,am as y,l as q,an as A,ao as R,B as M,ap as fe,aq as ve,I as H,ar as Q,as as _,at as de,au as U,av as we}from"./index-BfXwSNed.js";import{C as J}from"./Container-C8OfJBya.js";import{A as je}from"./Avatar-Dm3j2W3x.js";function ye(e){return m.Children.toArray(e).filter(o=>m.isValidElement(o))}function Be(e){return Z("MuiToggleButton",e)}const V=X("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),ce=m.createContext({}),ue=m.createContext(void 0);function Ce(e,o){return o===void 0||e===void 0?!1:Array.isArray(o)?o.includes(e):e===o}const Te=e=>{const{classes:o,fullWidth:a,selected:l,disabled:d,size:u,color:p}=e,h={root:["root",l&&"selected",d&&"disabled",a&&"fullWidth",`size${I(u)}`,p]};return oe(h,Be,o)},Pe=ee(xe,{name:"MuiToggleButton",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:a}=e;return[o.root,o[`size${I(a.size)}`]]}})(se(({theme:e})=>({...e.typography.button,borderRadius:(e.vars||e).shape.borderRadius,padding:11,border:`1px solid ${(e.vars||e).palette.divider}`,color:(e.vars||e).palette.action.active,[`&.${V.disabled}`]:{color:(e.vars||e).palette.action.disabled,border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:k(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${V.selected}`]:{color:(e.vars||e).palette.text.primary,backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.selectedOpacity})`:k(e.palette.text.primary,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:k(e.palette.text.primary,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.selectedOpacity})`:k(e.palette.text.primary,e.palette.action.selectedOpacity)}}}}},...Object.entries(e.palette).filter(he()).map(([o])=>({props:{color:o},style:{[`&.${V.selected}`]:{color:(e.vars||e).palette[o].main,backgroundColor:e.vars?`rgba(${e.vars.palette[o].mainChannel} / ${e.vars.palette.action.selectedOpacity})`:k(e.palette[o].main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[o].mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:k(e.palette[o].main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette[o].mainChannel} / ${e.vars.palette.action.selectedOpacity})`:k(e.palette[o].main,e.palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:e.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:e.typography.pxToRem(15)}}]}))),ze=m.forwardRef(function(o,a){const{value:l,...d}=m.useContext(ce),u=m.useContext(ue),p=me({...d,selected:Ce(o.value,l)},o),h=D({props:p,name:"MuiToggleButton"}),{children:B,className:S,color:f="standard",disabled:$=!1,disableFocusRipple:r=!1,fullWidth:c=!1,onChange:C,onClick:n,selected:v,size:O="medium",value:N,...G}=h,W={...h,color:f,disabled:$,disableFocusRipple:r,fullWidth:c,size:O},L=Te(W),E=s=>{n&&(n(s,N),s.defaultPrevented)||C&&C(s,N)},w=u||"";return t.jsx(Pe,{className:te(d.className,L.root,S,w),disabled:$,focusRipple:!r,ref:a,onClick:E,onChange:C,value:N,ownerState:W,"aria-pressed":v,...G,children:B})});function Se(e){return Z("MuiToggleButtonGroup",e)}const i=X("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),$e=e=>{const{classes:o,orientation:a,fullWidth:l,disabled:d}=e,u={root:["root",a,l&&"fullWidth"],grouped:["grouped",`grouped${I(a)}`,d&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return oe(u,Se,o)},Oe=ee("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:a}=e;return[{[`& .${i.grouped}`]:o.grouped},{[`& .${i.grouped}`]:o[`grouped${I(a.orientation)}`]},{[`& .${i.firstButton}`]:o.firstButton},{[`& .${i.lastButton}`]:o.lastButton},{[`& .${i.middleButton}`]:o.middleButton},o.root,a.orientation==="vertical"&&o.vertical,a.fullWidth&&o.fullWidth]}})(se(({theme:e})=>({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${i.grouped}`]:{[`&.${i.selected} + .${i.grouped}.${i.selected}`]:{borderTop:0,marginTop:0}},[`& .${i.firstButton},& .${i.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${i.lastButton},& .${i.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${i.lastButton}.${V.disabled},& .${i.middleButton}.${V.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${i.grouped}`]:{[`&.${i.selected} + .${i.grouped}.${i.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${i.firstButton},& .${i.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${i.lastButton},& .${i.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${i.lastButton}.${V.disabled},& .${i.middleButton}.${V.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),Ae=m.forwardRef(function(o,a){const l=D({props:o,name:"MuiToggleButtonGroup"}),{children:d,className:u,color:p="standard",disabled:h=!1,exclusive:B=!1,fullWidth:S=!1,onChange:f,orientation:$="horizontal",size:r="medium",value:c,...C}=l,n={...l,disabled:h,fullWidth:S,orientation:$,size:r},v=$e(n),O=m.useCallback((w,s)=>{if(!f)return;const j=c&&c.indexOf(s);let T;c&&j>=0?(T=c.slice(),T.splice(j,1)):T=c?c.concat(s):[s],f(w,T)},[f,c]),N=m.useCallback((w,s)=>{f&&f(w,c===s?null:s)},[f,c]),G=m.useMemo(()=>({className:v.grouped,onChange:B?N:O,value:c,size:r,fullWidth:S,color:p,disabled:h}),[v.grouped,B,N,O,c,r,S,p,h]),W=ye(d),L=W.length,E=w=>{const s=w===0,j=w===L-1;return s&&j?"":s?v.firstButton:j?v.lastButton:v.middleButton};return t.jsx(Oe,{role:"group",className:te(v.root,u),ref:a,ownerState:n,...C,children:t.jsx(ce.Provider,{value:G,children:W.map((w,s)=>t.jsx(ue.Provider,{value:E(s),children:w},s))})})});function Re(){const{userData:e}=ae(a=>a.auth),o={avatar:"/avatar.png",name:e==null?void 0:e.fullName,place:e==null?void 0:e.country,email:e==null?void 0:e.email};return t.jsx(z,{children:t.jsx(J,{children:t.jsxs(re,{sx:{borderRadius:"1rem",p:"1rem",boxShadow:"0 0px 0px 0 rgba(0, 0, 0, 0.19), 0 0px 8px 0 rgba(0, 0, 0, 0.19)"},children:[t.jsx(z,{height:"250px",children:t.jsx("img",{src:"/profileBanner/profileBannerImg.jpg",alt:"Profile Banner",height:"100%",width:"100%",style:{borderRadius:"1rem"}})}),t.jsx(z,{sx:{mx:{xs:"1rem",sm:"2rem"},mt:"-3rem"},children:Object.entries(o).map(([a,l])=>t.jsx(z,{sx:{flexDirection:"row",alignItems:"center",gap:".5rem",wordBreak:"break-word"},children:a==="avatar"?t.jsx(je,{alt:"User Avatar",src:l,sx:{width:100,height:100,bgcolor:"primary.main",mb:".5rem"}}):t.jsxs(t.Fragment,{children:[t.jsxs(F,{fontWeight:"bold",textTransform:"capitalize",children:[a,":"]}),t.jsx(F,{sx:{flex:1},children:l||"N/A"})]})},a))})]})})})}function Me({toggleButtonSx:e,items:o,toggleButtonGroupSx:a,stackSx:l,onChange:d,active:u}){return t.jsx(z,{sx:l,children:t.jsx(Ae,{color:"primary",exclusive:!0,onChange:d,"aria-label":"Platform",sx:{color:"#989c9e",...a},children:o==null?void 0:o.map((p,h)=>t.jsx(ze,{value:p,sx:{borderBottom:u===p&&"2px solid primary.main",color:u===p&&"primary.main",textTransform:"capitalize",fontSize:"1rem",...e},children:p},h))})})}const Ne=ne({fullName:P().trim().min(1,"User name or email is required"),email:P().trim().email("Please enter a valid email"),mobile:P().min(7,"Mobile number must be at least 7 digits"),tradingMt5AcNo:P().trim().min(1,"User name or email is required"),compoundingMT5AcNo:P().trim().min(1,"User name or email is required"),country:P().trim().min(1,"Please select your country"),trxPassword:P()});function pe(){const e=ie(),{userData:o}=ae(s=>s.auth),[a,l]=m.useState(null),[d,u]=m.useState(""),[p,h]=m.useState(null),[B,S]=m.useState(!1),f=()=>S(s=>!s),$={name:(o==null?void 0:o.fullName)||"",email:(o==null?void 0:o.email)||"",mobile:(o==null?void 0:o.mobile)||"",tradingMt5AcNo:(o==null?void 0:o.tradingMT5AcNo)||"",CompoundingMT5AcNo:(o==null?void 0:o.compoundingMT5AcNo)||"",country:(o==null?void 0:o.country)||""},{register:r,handleSubmit:c,reset:C,watch:n,setValue:v,setError:O,formState:{errors:N}}=le({resolver:de(Ne),defaultValues:$}),G=async s=>{try{console.log(s)}catch{}},[W]=ge(),[L]=be();async function E(s){var j,T;try{l(s);const g=n(s),x=await W({[s]:g}).unwrap();x!=null&&x.status&&(e(U({open:!0,message:x==null?void 0:x.message,severity:"success"})),h(s))}catch(g){(j=g.data)!=null&&j.data?Object.entries(g.data.data).forEach(([x,Y])=>{O(x,{type:"server",message:Y})}):e(U({open:!0,message:((T=g==null?void 0:g.data)==null?void 0:T.message)||"Failed to submit. Please try again later.",severity:"error"}))}finally{l(null)}}async function w(s){var j,T;try{h(()=>s);const g=n(s==="email"?"email":"mobile"),x=await L({[s]:g,otp:d}).unwrap();x!=null&&x.status&&(e(U({open:!0,message:x==null?void 0:x.message,severity:"success"})),u(""),h(null),v(s,g),C($))}catch(g){(j=g.data)!=null&&j.data?Object.entries(g.data.data).forEach(([x,Y])=>{O(x,{type:"server",message:Y})}):e(U({open:!0,message:((T=g==null?void 0:g.data)==null?void 0:T.message)||"Failed to submit. Please try again later.",severity:"error"}))}}return t.jsxs(z,{mt:"2rem",gap:"2rem",component:"form",onSubmit:c(G),children:[t.jsxs(b,{container:!0,size:12,spacing:3,children:[t.jsxs(b,{item:!0,size:{xs:12,sm:6,md:4},children:[t.jsx(y,{sx:{mb:".5rem"},children:"Name"}),t.jsx(q,{size:"small",placeholder:"Your name",fullWidth:!0,variant:"outlined",...r("name",{required:!0})})]}),t.jsxs(b,{item:!0,size:{xs:12,sm:6,md:4},children:[t.jsx(y,{sx:{mb:".5rem"},children:p==="email"?"Email otp":"Email"}),p==="email"?t.jsx(A,{size:"small",placeholder:"Your OTP",name:"otp",value:d,onChange:s=>u(s.target.value),fullWidth:!0,endAdornment:t.jsx(R,{position:"end",children:t.jsx(M,{onClick:()=>w("email"),disabled:!d,size:"small",variant:"contained",edge:"end",sx:{height:"100%",boxShadow:"none",bgcolor:"primary.main",color:"white",textTransform:"capitalize","&:hover":{boxShadow:"none"}},children:"Verify"})})}):t.jsx(A,{size:"small",placeholder:"Your email",...r("email",{required:!0}),fullWidth:!0,endAdornment:o!=null&&o.isEmailVerified?null:t.jsx(R,{position:"end",children:t.jsx(M,{onClick:()=>E("email"),disabled:a==="email",size:"small",variant:"contained",edge:"end",sx:{height:"100%",boxShadow:"none",bgcolor:"primary.main",color:"white",textTransform:"capitalize","&:hover":{boxShadow:"none"}},children:a==="email"?"Sending...":"Verify"})})})]}),t.jsxs(b,{item:!0,size:{xs:12,sm:6,md:4},children:[t.jsx(y,{sx:{mb:".5rem"},children:"Country"}),t.jsx(fe,{options:ve,placeholder:"Select Country",value:n("country"),onChange:s=>v("country",s)})]}),t.jsxs(b,{item:!0,size:{xs:12,sm:6,md:4},children:[t.jsx(y,{sx:{mb:".5rem"},children:p==="mobile"?"Mobile otp":"Mobile"}),p==="mobile"?t.jsx(A,{size:"small",placeholder:"Your OTP",name:"otp",value:d,onChange:s=>u(s.target.value),fullWidth:!0,endAdornment:t.jsx(R,{position:"end",children:t.jsx(M,{onClick:()=>w("mobile"),disabled:!d,size:"small",variant:"contained",edge:"end",sx:{height:"100%",boxShadow:"none",bgcolor:"primary.main",color:"white",textTransform:"capitalize","&:hover":{boxShadow:"none"}},children:"Verify"})})}):t.jsx(A,{size:"small",placeholder:"Your mobile",...r("mobile",{required:!0}),fullWidth:!0,endAdornment:o!=null&&o.isMobileVerified?null:t.jsx(R,{position:"end",children:t.jsx(M,{onClick:()=>E("mobile"),disabled:a==="mobile",size:"small",variant:"contained",edge:"end",sx:{height:"100%",boxShadow:"none",bgcolor:"primary.main",color:"white",textTransform:"capitalize","&:hover":{boxShadow:"none"}},children:a==="mobile"?"Sending...":"Verify"})})})]}),t.jsxs(b,{item:!0,size:{xs:12,sm:6,md:4},children:[t.jsx(y,{sx:{mb:".5rem"},children:"Trading MT5 A/c No."}),t.jsx(q,{size:"small",placeholder:"Your Trading MT5 A/c No.",fullWidth:!0,...r("tradingMt5AcNo",{required:!0}),variant:"outlined"})]}),t.jsxs(b,{item:!0,size:{xs:12,sm:6,md:4},children:[t.jsx(y,{sx:{mb:".5rem"},children:"Compounding MT5 A/c No."}),t.jsx(q,{size:"small",placeholder:"Compounding MT5 A/c No.",fullWidth:!0,...r("CompoundingMT5AcNo",{required:!0}),variant:"outlined"})]}),t.jsxs(b,{item:!0,size:{xs:12,sm:6,md:4},children:[t.jsx(y,{sx:{mb:".5rem"},children:"Transaction Password "}),t.jsx(A,{size:"small",placeholder:"********",fullWidth:!0,type:B?"text":"password",endAdornment:t.jsx(R,{position:"end",children:t.jsx(H,{"aria-label":B?"hide the password":"display the password",onClick:f,edge:"end",children:B?t.jsx(Q,{}):t.jsx(_,{})})})})]}),t.jsxs(b,{item:!0,size:{xs:12,sm:6,md:4},children:[t.jsx(y,{sx:{mb:".5rem"},children:"One Time Password"}),t.jsx(A,{size:"small",placeholder:"Enter OTP",fullWidth:!0,endAdornment:t.jsx(R,{position:"end",children:t.jsx(M,{size:"small",variant:"contained",edge:"end",sx:{height:"100%",boxShadow:"none",bgcolor:"primary.main",color:"white",textTransform:"capitalize","&:hover":{boxShadow:"none"}},children:"OTP"})})})]})]}),t.jsx(M,{type:"submit",size:"small",variant:"contained",sx:{textTransform:"capitalize",boxShadow:"none",bgcolor:"primary.main",color:"white",alignSelf:"flex-start","&:hover":{boxShadow:"none"}},children:"Update"})]})}const We=ne({oldPassword:P().min(8,"Password must be at least 8 characters"),newPassword:P().min(8,"Password must be at least 8 characters"),cnfPassword:P().min(8,"Password must be at least 8 characters")}).refine(e=>e.newPassword===e.cnfPassword,{message:"Passwords do not match",path:["cnfPassword"]});function ke(){const e=ie(),[o,a]=m.useState({oldPassword:!1,newPassword:!1,cnfPassword:!1}),l=r=>{a(c=>({...c,[r]:!c[r]}))},[d]=we(),u={oldPassword:"",newPassword:"",cnfPassword:""},{register:p,handleSubmit:h,setError:B,reset:S,formState:{errors:f}}=le({resolver:de(We),defaultValues:u}),$=async r=>{var c,C;try{const n=await d(r).unwrap();n!=null&&n.status&&(S(u),e(U({open:!0,message:n==null?void 0:n.message,severity:"success"})))}catch(n){(c=n==null?void 0:n.data)!=null&&c.data?Object.entries(n.data.data).forEach(([v,O])=>{B(v,{type:"server",message:O})}):e(U({open:!0,message:((C=n==null?void 0:n.data)==null?void 0:C.message)||"Failed to submit. Please try again later.",severity:"error"}))}};return t.jsxs(z,{mt:"2rem",gap:"2rem",component:"form",onSubmit:h($),children:[t.jsx(b,{container:!0,size:12,spacing:3,children:["oldPassword","newPassword","cnfPassword"].map(r=>t.jsxs(b,{item:!0,size:{xs:12,sm:6,md:4},children:[t.jsx(y,{sx:{mb:".5rem"},children:r==="oldPassword"?"Current Password":r==="newPassword"?"New Password":"Confirm Password"}),t.jsx(A,{size:"small",...p(r),placeholder:"********",fullWidth:!0,type:o[r]?"text":"password",endAdornment:t.jsx(R,{position:"end",children:t.jsx(H,{"aria-label":`toggle ${r} visibility`,onClick:()=>l(r),edge:"end",children:o[r]?t.jsx(Q,{}):t.jsx(_,{})})})}),f[r]&&t.jsx(F,{color:"error",children:f[r].message})]},r))}),t.jsx(M,{type:"submit",size:"small",variant:"contained",sx:{textTransform:"capitalize",boxShadow:"none",bgcolor:"primary.main",color:"white",alignSelf:"flex-start","&:hover":{boxShadow:"none"}},children:"Update"})]})}function Ve(){const[e,o]=m.useState(!1),a=()=>o(l=>!l);return t.jsxs(z,{mt:"2rem",gap:"2rem",children:[t.jsxs(b,{container:!0,size:12,spacing:3,children:[t.jsxs(b,{item:!0,size:{xs:12,sm:6,md:4},children:[t.jsx(y,{sx:{mb:".5rem"},children:"Email"}),t.jsx(q,{size:"small",fullWidth:!0,placeholder:"hello@example.com",variant:"outlined"})]}),t.jsxs(b,{item:!0,size:{xs:12,sm:6,md:4},children:[t.jsx(y,{sx:{mb:".5rem"},children:"Transaction Password"}),t.jsx(A,{size:"small",placeholder:"********",fullWidth:!0,type:e?"text":"password",endAdornment:t.jsx(R,{position:"end",children:t.jsx(H,{"aria-label":e?"hide the password":"display the password",onClick:a,edge:"end",children:e?t.jsx(Q,{}):t.jsx(_,{})})})})]}),t.jsxs(b,{item:!0,size:{xs:12,sm:6,md:4},children:[t.jsx(y,{sx:{mb:".5rem"},children:"One Time Password"}),t.jsx(A,{size:"small",placeholder:"Enter OTP",fullWidth:!0,endAdornment:t.jsx(R,{position:"end",children:t.jsx(M,{size:"small",variant:"contained",edge:"end",sx:{height:"100%",boxShadow:"none",bgcolor:"primary.main",color:"white",textTransform:"capitalize","&:hover":{boxShadow:"none"}},children:"OTP"})})})]})]}),t.jsx(M,{size:"small",variant:"contained",sx:{textTransform:"capitalize",boxShadow:"none",bgcolor:"primary.main",color:"white",alignSelf:"flex-start","&:hover":{boxShadow:"none"}},children:"Update"})]})}const K={Profile:pe,"Change Profile Password":ke,"Update Email":Ve};function Ee(){const[e,o]=m.useState("Profile");function a(d){d&&o(d)}const l=K[e]||pe;return t.jsx(z,{mt:"2rem",children:t.jsx(J,{children:t.jsxs(re,{sx:{borderRadius:"1rem",p:{xs:"1rem",sm:"2rem"},boxShadow:"0 0px 0px 0 rgba(0, 0, 0, 0.19), 0 0px 8px 0 rgba(0, 0, 0, 0.19)"},children:[t.jsx(Me,{toggleButtonSx:{borderTop:"none",borderLeft:"none",borderRight:"none",borderRadius:"0"},toggleButtonGroupSx:{flexDirection:{xs:"column",sm:"row"}},stackSx:{borderBottom:"1px solid #989c9e"},items:Object.keys(K),onChange:(d,u)=>a(u),active:e}),t.jsx(l,{})]})})})}function qe(){return t.jsxs(z,{mb:"4rem",mt:"100px",children:[t.jsx(J,{children:t.jsx(F,{variant:"h4",fontWeight:"bold",mb:"2rem",children:"Profile"})}),t.jsx(Re,{}),t.jsx(Ee,{})]})}export{qe as default};
