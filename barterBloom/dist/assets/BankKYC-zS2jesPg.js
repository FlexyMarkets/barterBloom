import{ah as R,ai as x,aw as W,aa as E,r as v,aj as K,ax as G,j as e,S as o,e as f,T as r,G as l,am as c,l as u,ap as V,B as Y,at as q,au as T,ay as H,az as L,f as k}from"./index-BfXwSNed.js";import{a as Z}from"./bankDetailsData-DLr3AYiW.js";import{S as U}from"./Selector-0Lwbqk8l.js";import{C as b}from"./Container-C8OfJBya.js";import{D as $}from"./Divider-zdrA-kgn.js";import{F as M}from"./FiberManualRecord-ChEN6IY4.js";import{T as p,a as O}from"./TableRow-C9p0Is9a.js";import{T as s,a as Q,b as J,c as X}from"./TableContainer-BQpndtr5.js";import{I as _}from"./Info-Dc4sY1h1.js";import{C as ee}from"./CloseOutlined-C4XNN6vs.js";import"./MenuItem-BxXxlEo3.js";import"./listItemTextClasses-dqKMu_Do.js";import"./dividerClasses-DmdA7Fvt.js";const ae=R({holderName:x().min(1,"Please type account holder name").min(3,"Account holder name must be at least 3 characters long"),bankName:x().min(2,"Please select your"),accountNo:x().min(1,"Please type your account number").min(8,"Account number must be at least 8 characters").max(17,"Invalid Account number").regex(/^\d+$/,"Account number must contain only numbers"),ifscCode:x().min(1,"Please type your IFSC code").length(11,"IFSC code must be exactly 11 characters").regex(/^[A-Z]{4}0[A-Z0-9]{6}$/,"Invalid IFSC code"),branchName:x().min(2,"Please type your branch name"),accountType:W(["SAVING","CURRENT"],{message:"Account type must be either Savings or Current"}),panNumber:x().min(1,"Please type your pan number").max(10,"Invalid PAN number").regex(/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/,"Invalid PAN number")});function re(){const a=E(),[d,N]=v.useState(!1),m={holderName:"",bankName:"",accountNo:"",ifscCode:"",branchName:"",accountType:"",panNumber:""},{register:i,handleSubmit:j,watch:w,setError:A,reset:D,setValue:S,formState:{errors:n}}=K({resolver:q(ae),defaultValues:m}),[I,{isLoading:B}]=G(),z=async h=>{var y,C;try{const t=await I(h).unwrap();t!=null&&t.status&&(D(m),a(T({open:!0,message:t==null?void 0:t.message,severity:"success"})))}catch(t){(y=t==null?void 0:t.data)!=null&&y.data?Object.entries(t.data.data).forEach(([P,F])=>{A(P,{type:"server",message:F})}):a(T({open:!0,message:((C=t==null?void 0:t.data)==null?void 0:C.message)||"Failed to submit. Please try again later.",severity:"error"}))}};return e.jsx(o,{mt:"2rem",children:e.jsx(b,{children:e.jsxs(f,{sx:{padding:{xs:"1rem",sm:"2rem"},borderRadius:"2rem",boxShadow:"0 0px 0px 0 rgba(0, 0, 0, 0.19), 0 0px 8px 0 rgba(0, 0, 0, 0.19)"},children:[e.jsx(r,{variant:"h6",m:{xs:"1rem",sm:"0"},children:"Add New Bank Details to Receive Profits"}),e.jsx($,{sx:{my:"1.2rem"}}),e.jsxs(o,{gap:"2rem",component:"form",onSubmit:j(z),children:[e.jsxs(l,{container:!0,size:12,spacing:3,children:[e.jsxs(l,{item:!0,size:{xs:12,sm:6,md:4},children:[e.jsx(c,{sx:{mb:".5rem"},children:"A/c holder Name"}),e.jsx(u,{...i("holderName",{required:!0}),size:"small",fullWidth:!0,placeholder:"A/c holder Name",variant:"outlined"}),n.holderName&&e.jsx(r,{color:"error",children:n.holderName.message})]}),e.jsxs(l,{item:!0,size:{xs:12,sm:6,md:4},children:[e.jsx(c,{sx:{mb:".5rem"},children:"Bank Name"}),e.jsx(V,{options:Z,value:w("bankName"),onChange:h=>S("bankName",h,{shouldValidate:!0}),placeholder:"Select Bank"}),n.bankName&&e.jsx(r,{color:"error",children:n.bankName.message})]}),e.jsxs(l,{item:!0,size:{xs:12,sm:6,md:4},children:[e.jsx(c,{sx:{mb:".5rem"},children:"A/c Number"}),e.jsx(u,{...i("accountNo",{required:!0}),size:"small",fullWidth:!0,placeholder:"A/c Number",variant:"outlined"}),n.accountNo&&e.jsx(r,{color:"error",children:n.accountNo.message})]}),e.jsxs(l,{item:!0,size:{xs:12,sm:6,md:4},children:[e.jsx(c,{sx:{mb:".5rem"},children:"IFSC"}),e.jsx(u,{...i("ifscCode",{required:!0}),size:"small",fullWidth:!0,placeholder:"IFSC",variant:"outlined"}),n.ifscCode&&e.jsx(r,{color:"error",children:n.ifscCode.message})]}),e.jsxs(l,{item:!0,size:{xs:12,sm:6,md:4},children:[e.jsx(c,{sx:{mb:".5rem"},children:"Account Type"}),e.jsx(U,{items:["SAVING","CURRENT"],value:w("accountType"),shouldBeFullWidth:!0,onChange:h=>S("accountType",h.target.value,{shouldValidate:!0})}),n.accountType&&e.jsx(r,{color:"error",children:n.accountType.message})]}),e.jsxs(l,{item:!0,size:{xs:12,sm:6,md:4},children:[e.jsx(c,{sx:{mb:".5rem"},children:"Branch Name"}),e.jsx(u,{...i("branchName",{required:!0}),size:"small",fullWidth:!0,placeholder:"Branch Name",variant:"outlined"}),n.branchName&&e.jsx(r,{color:"error",children:n.branchName.message})]}),e.jsxs(l,{item:!0,size:{xs:12,sm:6,md:4},children:[e.jsx(c,{sx:{mb:".5rem"},children:"Pan No."}),e.jsx(u,{...i("panNumber",{required:!0}),size:"small",fullWidth:!0,placeholder:"Pan No.",variant:"outlined"}),n.panNumber&&e.jsx(r,{color:"error",children:n.panNumber.message})]})]}),e.jsx(Y,{type:"submit",size:"small",variant:"contained",disabled:B,sx:{textTransform:"capitalize",boxShadow:"none",bgcolor:"primary.main",fontSize:"1rem",color:"white",alignSelf:"flex-start","&:hover":{boxShadow:"none"}},children:"Add"})]})]})})})}function se({data:a}){return e.jsxs(p,{children:[e.jsx(s,{align:"left",sx:{whiteSpace:"nowrap"},children:"1"}),e.jsx(s,{align:"left",sx:{whiteSpace:"nowrap"},children:a.id}),e.jsx(s,{align:"left",sx:{whiteSpace:"nowrap"},children:a.userId}),e.jsx(s,{align:"left",sx:{whiteSpace:"nowrap"},children:a.holderName}),e.jsx(s,{align:"left",sx:{whiteSpace:"nowrap"},children:a.bankName}),e.jsx(s,{align:"left",sx:{whiteSpace:"nowrap"},children:a.accountNo}),e.jsx(s,{align:"left",sx:{whiteSpace:"nowrap"},children:a.ifscCode}),e.jsx(s,{align:"left",sx:{whiteSpace:"nowrap"},children:a.accountType}),e.jsx(s,{align:"left",sx:{whiteSpace:"nowrap"},children:a.branchName}),e.jsx(s,{align:"left",sx:{whiteSpace:"nowrap"},children:a.panNumber}),e.jsx(s,{align:"left",sx:{whiteSpace:"nowrap"},children:new Date(a.createdAt).toLocaleString()}),e.jsx(s,{align:"left",sx:{whiteSpace:"nowrap"},children:e.jsxs(o,{sx:{flexDirection:"row",alignItems:"center",gap:"3px"},children:[e.jsx(M,{sx:{fontSize:"1.2rem",color:a.isDeleted===!1?"green":"red"}}),e.jsx(r,{children:a.isDeleted===!1?"Available":"Deleted"})]})})]})}const ne=["S/N","ID","User ID","Name","Bank","A/C No.","IFSC Code","A/C Type","Branch Name","PAN No.","Created At","Status"];function te(){return e.jsx(O,{children:e.jsx(p,{children:ne.map((a,d)=>e.jsx(s,{sx:{whiteSpace:"nowrap",color:"primary.main",fontWeight:"bold",fontSize:"1rem"},children:a},d))})})}function ie(){var j;const{data:a,isLoading:d,isError:N,error:m}=H(),i=(a==null?void 0:a.data)||[];return e.jsx(o,{mt:"2rem",children:e.jsx(b,{children:e.jsx(f,{sx:{boxShadow:"0 0px 0px 0 rgba(0, 0, 0, 0.19), 0 0px 8px 0 rgba(0, 0, 0, 0.19)",borderRadius:"2rem",padding:{xs:"1rem",md:"2rem"}},children:e.jsx(Q,{children:e.jsxs(J,{sx:{minWidth:800},children:[e.jsx(te,{}),e.jsx(X,{children:d?e.jsx(p,{children:e.jsxs(s,{colSpan:12,align:"center",children:[e.jsx(L,{}),e.jsx(r,{mt:1,children:"Loading..."})]})}):N?e.jsx(p,{children:e.jsx(s,{colSpan:12,align:"center",children:e.jsxs(r,{color:"error",children:["Error: ",((j=m==null?void 0:m.data)==null?void 0:j.message)||"Failed to fetch data"]})})}):i?e.jsx(se,{data:i}):e.jsx(p,{children:e.jsx(s,{colSpan:12,align:"center",children:e.jsx(r,{children:"No bank details found"})})})})]})})})})})}const g={icon:_,heading:"Gentle Reminder",content:"Kindly update your Bank Details to get withdrawals into your account. Don't fill the wrong details. Please connect with your up-line for further assistance regarding the same."};function le(){const[a,d]=v.useState(!1);return e.jsx(o,{children:!a&&e.jsx(b,{children:e.jsxs(f,{sx:{borderRadius:"1.2rem",padding:".2rem",boxShadow:"0 0px 0px 0 rgba(0, 0, 0, 0.19), 0 0px 8px 0 rgba(0, 0, 0, 0.19)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs(k,{sx:{display:"flex",alignItems:"center",gap:"1rem"},children:[e.jsx(o,{children:e.jsx(r,{lineHeight:0,color:"#af70e1",children:e.jsx(g.icon,{sx:{fontSize:"2rem"}})})}),e.jsxs(o,{children:[e.jsx(r,{children:g.heading}),e.jsx(r,{color:"#af70e1",children:g.content})]})]}),e.jsx(k,{children:e.jsx(r,{sx:{cursor:"pointer",lineHeight:0},onClick:()=>d(!0),children:e.jsx(ee,{})})})]})})})}function we(){return e.jsxs(o,{mt:"100px",children:[e.jsx(b,{children:e.jsx(r,{variant:"h4",fontWeight:"bold",mb:"2rem",children:"Bank KYC"})}),e.jsx(le,{}),e.jsx(re,{}),e.jsx(ie,{})]})}export{we as default};
