import{j as r,C as j,ab as d,r as R,B as y,S as b,T as a,Z as L,aa as S,ac as w,i as k,ad as D,G as m,ae as v}from"./index-DSQ-3O48.js";import{C as h}from"./Container-CKS2abll.js";import{a as g}from"./List-BUk8UaV_.js";import{L as E}from"./ListItem-Dag9odD9.js";import{L as I,E as z}from"./ExpandLess-BEVLN-Pp.js";import{E as B,C as G}from"./ExpandMore-DABG_3nT.js";import{D as N}from"./Divider-D2RQ6X5C.js";import"./listItemTextClasses-DWIRo0XL.js";import"./dividerClasses-Bt8tkvUP.js";function C({node:e,onClick:n}){var t;const[o,s]=R.useState(!1),l=()=>{n(e.title)},i=c=>{c.stopPropagation(),e.hasChildren&&s(x=>!x)};return r.jsxs(r.Fragment,{children:[r.jsxs(E,{button:!0,onClick:l,sx:{pl:2},children:[r.jsx(I,{primary:e.title,sx:{"& .MuiListItemText-primary":{fontSize:"12px"},cursor:"pointer"}}),e.hasChildren&&r.jsx(y,{onClick:i,size:"small",variant:"contained",type:"submit",sx:{textTransform:"capitalize",p:"5px",boxShadow:"none",bgcolor:"primary.main",fontSize:"1rem",color:"white","&:hover":{boxShadow:"none"}},children:o?r.jsx(z,{}):r.jsx(B,{})})]}),e.hasChildren&&r.jsx(G,{in:o,timeout:"auto",unmountOnExit:!0,children:r.jsx(g,{component:"div",disablePadding:!0,children:(t=e.children)==null?void 0:t.filter(Boolean).map((c,x)=>r.jsx(C,{node:c,onClick:n},x))})})]})}function O({listData:e=[],onClick:n,loadingListData:o}){return r.jsx(h,{children:r.jsx(j,{sx:{p:"1rem",display:"flex",flexDirection:"column",gap:".5rem",borderRadius:"2rem",boxShadow:"0 0px 0px 0 rgba(0, 0, 0, 0.19), 0 0px 8px 0 rgba(0, 0, 0, 0.19)"},children:o?r.jsx(d,{}):r.jsx(g,{children:e.map((s,l)=>r.jsx(C,{node:s,onClick:n},l))})})})}function M({data:e,loading:n}){var s;const o={Name:e==null?void 0:e.name,"Referral code":e==null?void 0:e.referralCode,Email:e==null?void 0:e.email,Sponser:e==null?void 0:e.sponser,"Total team turnover balance":e==null?void 0:e.totalTeamTurnoverBalance,"Total team":e==null?void 0:e.totalTeam,"Total reward balance":e==null?void 0:e.totalRewardBalance,"Total staked balance":e==null?void 0:e.totalStakedBalance,"Login id":e==null?void 0:e.loginId,"Direct referral team":e==null?void 0:e.directReferralTeam};return r.jsx(b,{children:r.jsx(h,{children:r.jsxs(j,{sx:{p:"2rem",display:"flex",flexDirection:"column",gap:".5rem",borderRadius:"2rem",boxShadow:"0 0px 0px 0 rgba(0, 0, 0, 0.19), 0 0px 8px 0 rgba(0, 0, 0, 0.19)"},children:[r.jsx(a,{variant:"h5",fontWeight:"bold",children:"Referral User data"}),r.jsx(N,{sx:{my:"5px"}}),n?r.jsx(d,{}):(s=Object.entries(o))==null?void 0:s.map(([l,i],t)=>r.jsxs(L,{sx:{display:"flex",gap:"1rem",justifyContent:"space-between"},children:[r.jsxs(a,{children:[l," :"]}),r.jsx(a,{children:i})]},t))]})})})}function T(e){const n=[];for(const o in e){const s=e[o],l={title:o,hasChildren:s&&typeof s=="object",children:s&&typeof s=="object"?T(s):[]};n.push(l)}return n}function J(){const{selectedReferralCode:e}=S(p=>p.wallet),{data:n,isLoading:o}=w({referralCode:e},{skip:!e}),s=!o&&(n==null?void 0:n.data),l=k(),{data:i,isLoading:t}=D(),c=i!=null&&i.data?T(i==null?void 0:i.data):[];function x(p){const f=p==null?void 0:p.match(/-(\w+)-/),u=f?f[1]:null;console.log(u),l(v(u))}return r.jsxs(b,{mt:"100px",children:[r.jsx(h,{children:r.jsx(a,{variant:"h4",fontWeight:"bold",mb:"2rem",children:"Referral Tree"})}),r.jsxs(m,{container:!0,size:12,children:[r.jsx(m,{size:7,children:r.jsx(O,{listData:c,loadingListData:t,onClick:x})}),r.jsx(m,{size:5,children:e&&r.jsx(M,{data:s,loading:o})})]})]})}export{J as default};
