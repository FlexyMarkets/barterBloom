import{j as e,S as t,C as c,T as r,q as z,t as u,i as I,k as C,ah as k,G as n,n as p,B as F,o as q,p as w}from"./index-F7PJWeAG.js";import{P as B}from"./Paid-PljT0ztF.js";import{C as d}from"./Container-DiaXCEP5.js";import{D}from"./Divider-Cj93K_66.js";import{T as f}from"./TextField-DMERoExH.js";import"./dividerClasses-BpgxXYC1.js";import"./Select-q5a4CTYc.js";import"./index-B76HvtTe.js";import"./List-DuxmDd4G.js";import"./FormControl-DkNCJtz1.js";const i={icon:B,heading:'Important Notice: "Transaction Password"',contant:"Please be informed that the transaction password cannot be changed. You are required to remember this password, as it will be needed for all transaction-related activities."};function N(){return e.jsx(t,{children:e.jsx(d,{children:e.jsxs(c,{sx:{p:"2rem",borderRadius:"2rem",display:"flex",flexDirection:{xs:"column",md:"row"},alignItems:{xs:"flex-start",md:"center"},gap:"2rem",backgroundImage:"url(/noticeBanner.jpg)",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center",width:"100%",height:"auto"},children:[e.jsx(c,{sx:{width:"7rem",height:"5rem",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"1rem",bgcolor:"rgba(255, 255, 255, 0.1)",boxShadow:"0",color:"white"},children:e.jsx(r,{lineHeight:0,children:e.jsx(i.icon,{sx:{fontSize:"2.5rem",mb:"0"}})})}),e.jsxs(t,{color:"white",children:[e.jsx(r,{variant:"h5",fontWeight:"bold",children:i.heading}),e.jsx(r,{children:i.contant})]})]})})})}const R=z({password:u().min(8,"Password must be at least 8 characters").regex(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[\W_]).{8,}$/,"Password must contain at least one digit, one lowercase letter, one uppercase letter, and one special character"),cnfPassword:u().min(8,"Password must be at least 8 characters")}).refine(a=>a.password===a.cnfPassword,{message:"Passwords do not match",path:["cnfPassword"]});function W(){const a=I(),m={password:"",cnfPassword:""},{register:l,handleSubmit:b,setError:g,reset:j,formState:{errors:o}}=C({resolver:q(R),defaultValues:m}),[P]=k(),S=async y=>{var h,x;try{const s=await P(y).unwrap();s!=null&&s.status&&(j(m),a(w({open:!0,message:s==null?void 0:s.message,severity:"success"})))}catch(s){(h=s==null?void 0:s.data)!=null&&h.data?Object.entries(s.data.data).forEach(([T,v])=>{g(T,{type:"server",message:v})}):a(w({open:!0,message:((x=s==null?void 0:s.data)==null?void 0:x.message)||"Failed to submit. Please try again later.",severity:"error"}))}};return e.jsx(t,{mt:"2rem",children:e.jsx(d,{children:e.jsxs(c,{sx:{padding:{xs:"1rem",sm:"2rem"},borderRadius:"2rem",boxShadow:"0 0px 0px 0 rgba(0, 0, 0, 0.19), 0 0px 8px 0 rgba(0, 0, 0, 0.19)"},children:[e.jsx(r,{variant:"h6",m:{xs:"1rem",sm:"0"},children:"Update your security questions"}),e.jsx(D,{sx:{my:"1.2rem"}}),e.jsxs(t,{gap:"2rem",alignItems:"flex-start",component:"form",onSubmit:b(S),children:[e.jsxs(n,{container:!0,size:12,spacing:3,children:[e.jsxs(n,{item:!0,size:{xs:12,sm:6,md:4},children:[e.jsx(p,{sx:{mb:".5rem"},children:"Password"}),e.jsx(f,{...l("password",{required:!0}),size:"small",fullWidth:!0,placeholder:"********",variant:"outlined"}),o.password&&e.jsx(r,{color:"error",children:o.password.message})]}),e.jsxs(n,{item:!0,size:{xs:12,sm:6,md:4},children:[e.jsx(p,{sx:{mb:".5rem"},children:"Confirm Password"}),e.jsx(f,{...l("cnfPassword",{required:!0}),size:"small",fullWidth:!0,placeholder:"Confirm Password",variant:"outlined"}),o.cnfPassword&&e.jsx(r,{color:"error",children:o.cnfPassword.message})]}),e.jsx(n,{children:e.jsx(r,{color:"#d32f2f",children:"Note: Password must be at least 8 characters and must contain at least one digit, one lowercase letter, one uppercase letter, and one special character*"})})]}),e.jsx(F,{type:"submit",size:"small",variant:"contained",sx:{textTransform:"capitalize",objectFit:"contain",boxShadow:"none",bgcolor:"primary.main",fontSize:"1rem",color:"white","&:hover":{boxShadow:"none"}},children:"Submit"})]})]})})})}function Y(){return e.jsxs(t,{mt:"100px",children:[e.jsx(d,{children:e.jsx(r,{variant:"h4",fontWeight:"bold",mb:"2rem",children:"Set Transaction Password"})}),e.jsx(N,{}),e.jsx(W,{})]})}export{Y as default};
